{"version":3,"sources":["file:///C:/Users/maide/OneDrive/Documents/GitHub/cocos-observer/assets/EventSystem.ts"],"names":["_decorator","EventTarget","ccclass","EventSystem","constructor","eventTarget","getInstance","_instance","on","eventType","callback","target","off","emit","args"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,W,OAAAA,W;;;;;;;;;OACf;AAAEC,QAAAA;AAAF,O,GAAcF,U;;6BAGPG,W,WADZD,OAAO,CAAC,aAAD,C,2BAAR,MACaC,WADb,CACyB;AAIbC,QAAAA,WAAW,GAAG;AAAA,eAFdC,WAEc,GAFa,IAAIJ,WAAJ,EAEb;AAAE;;AAEC,eAAXK,WAAW,GAAgB;AACrC,cAAI,CAAC,KAAKC,SAAV,EAAqB;AACjB,iBAAKA,SAAL,GAAiB,IAAIJ,WAAJ,EAAjB;AACH;;AACD,iBAAO,KAAKI,SAAZ;AACH;;AAEMC,QAAAA,EAAE,CAACC,SAAD,EAAoBC,QAApB,EAAwDC,MAAxD,EAAsE;AAC3E,eAAKN,WAAL,CAAiBG,EAAjB,CAAoBC,SAApB,EAA+BC,QAA/B,EAAyCC,MAAzC;AACH;;AAEMC,QAAAA,GAAG,CAACH,SAAD,EAAoBC,QAApB,EAAwDC,MAAxD,EAAsE;AAC5E,eAAKN,WAAL,CAAiBO,GAAjB,CAAqBH,SAArB,EAAgCC,QAAhC,EAA0CC,MAA1C;AACH;;AAEME,QAAAA,IAAI,CAACJ,SAAD,EAAoB,GAAGK,IAAvB,EAAoC;AAC3C,eAAKT,WAAL,CAAiBQ,IAAjB,CAAsBJ,SAAtB,EAAiC,GAAGK,IAApC;AACH;;AAvBoB,O,UACNP,S,GAAgC,I","sourcesContent":["import { _decorator, EventTarget } from 'cc';\nconst { ccclass } = _decorator;\n\n@ccclass('EventSystem')\nexport class EventSystem {\n    private static _instance: EventSystem | null = null;\n    private eventTarget: EventTarget = new EventTarget();\n\n    private constructor() {}\n\n    public static getInstance(): EventSystem {\n        if (!this._instance) {\n            this._instance = new EventSystem();\n        }\n        return this._instance;\n    }\n\n    public on(eventType: string, callback: (...args: any[]) => void, target?: any) {\n        this.eventTarget.on(eventType, callback, target);\n    }\n\n    public off(eventType: string, callback: (...args: any[]) => void, target?: any) {\n        this.eventTarget.off(eventType, callback, target);\n    }\n\n    public emit(eventType: string, ...args: any[]) {\n        this.eventTarget.emit(eventType, ...args);\n    }\n}\n"]}